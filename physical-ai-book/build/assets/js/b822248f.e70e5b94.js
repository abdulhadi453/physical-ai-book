"use strict";(globalThis.webpackChunkai_native_textbook_physical_ai_humanoid_robotics=globalThis.webpackChunkai_native_textbook_physical_ai_humanoid_robotics||[]).push([[9957],{8453:(n,e,r)=>{r.d(e,{R:()=>o,x:()=>s});var a=r(6540);const i={},t=a.createContext(i);function o(n){const e=a.useContext(t);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:o(n.components),a.createElement(t.Provider,{value:e},n.children)}},9200:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"chapter-3/nav2-setup","title":"Nav2 Navigation Stack Integration with Isaac Sim","description":"Overview","source":"@site/docs/chapter-3/nav2-setup.md","sourceDirName":"chapter-3","slug":"/chapter-3/nav2-setup","permalink":"/docs/chapter-3/nav2-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/chapter-3/nav2-setup.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Isaac ROS Bridge Setup and Configuration","permalink":"/docs/chapter-3/isaac-ros-setup"},"next":{"title":"Isaac Sim Simulation Environment Configuration","permalink":"/docs/chapter-3/simulation-setup"}}');var i=r(4848),t=r(8453);const o={},s="Nav2 Navigation Stack Integration with Isaac Sim",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Introduction to Nav2",id:"introduction-to-nav2",level:2},{value:"What is Nav2?",id:"what-is-nav2",level:3},{value:"Key Components of Nav2",id:"key-components-of-nav2",level:3},{value:"Nav2 Architecture",id:"nav2-architecture",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Nav2 Installation and Setup",id:"nav2-installation-and-setup",level:2},{value:"1. Verify Nav2 Installation",id:"1-verify-nav2-installation",level:3},{value:"2. Source ROS Environment",id:"2-source-ros-environment",level:3},{value:"3. Test Nav2 Installation",id:"3-test-nav2-installation",level:3},{value:"Nav2 Configuration for Isaac Sim",id:"nav2-configuration-for-isaac-sim",level:2},{value:"1. Create Nav2 Configuration Directory",id:"1-create-nav2-configuration-directory",level:3},{value:"2. Create Complete Nav2 Parameters File",id:"2-create-complete-nav2-parameters-file",level:3},{value:"3. Create Nav2 Map Configuration",id:"3-create-nav2-map-configuration",level:3},{value:"Isaac Sim Robot Configuration for Navigation",id:"isaac-sim-robot-configuration-for-navigation",level:2},{value:"1. Create Robot Description for Navigation",id:"1-create-robot-description-for-navigation",level:3},{value:"Nav2 Launch Files for Isaac Sim",id:"nav2-launch-files-for-isaac-sim",level:2},{value:"1. Create Launch Directory",id:"1-create-launch-directory",level:3},{value:"2. Create Nav2 Bringup Launch File for Isaac Sim",id:"2-create-nav2-bringup-launch-file-for-isaac-sim",level:3},{value:"3. Create Isaac Sim Navigation Demo Launch File",id:"3-create-isaac-sim-navigation-demo-launch-file",level:3},{value:"RViz Configuration for Navigation",id:"rviz-configuration-for-navigation",level:2},{value:"1. Create RViz Directory",id:"1-create-rviz-directory",level:3},{value:"2. Create RViz Configuration for Isaac Sim Navigation",id:"2-create-rviz-configuration-for-isaac-sim-navigation",level:3},{value:"Isaac Sim Navigation Integration Package",id:"isaac-sim-navigation-integration-package",level:2},{value:"1. Create Isaac Sim Navigation Package",id:"1-create-isaac-sim-navigation-package",level:3},{value:"2. Create CMakeLists.txt",id:"2-create-cmakeliststxt",level:3},{value:"3. Create Package XML",id:"3-create-package-xml",level:3},{value:"Navigation Performance and Testing",id:"navigation-performance-and-testing",level:2},{value:"1. Create Navigation Performance Test Script",id:"1-create-navigation-performance-test-script",level:3},{value:"2. Run Navigation Integration Test",id:"2-run-navigation-integration-test",level:3},{value:"Navigation Behavior Trees Configuration",id:"navigation-behavior-trees-configuration",level:2},{value:"1. Create Custom Behavior Trees",id:"1-create-custom-behavior-trees",level:3},{value:"2. Create Navigation Behavior Tree with Isaac-specific Recovery",id:"2-create-navigation-behavior-tree-with-isaac-specific-recovery",level:3},{value:"Troubleshooting Nav2 Integration",id:"troubleshooting-nav2-integration",level:2},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"Issue: &quot;Nav2 nodes not starting properly&quot;",id:"issue-nav2-nodes-not-starting-properly",level:4},{value:"Issue: &quot;Robot not moving in Isaac Sim&quot;",id:"issue-robot-not-moving-in-isaac-sim",level:4},{value:"Issue: &quot;Costmaps not updating&quot;",id:"issue-costmaps-not-updating",level:4},{value:"Verification Checklist",id:"verification-checklist",level:2},{value:"Next Steps",id:"next-steps",level:2}];function _(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"nav2-navigation-stack-integration-with-isaac-sim",children:"Nav2 Navigation Stack Integration with Isaac Sim"})}),"\n",(0,i.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(e.p,{children:"This document provides comprehensive instructions for setting up and integrating the Navigation2 (Nav2) stack with NVIDIA Isaac Sim. Nav2 is the navigation stack for ROS 2, providing path planning, navigation, and obstacle avoidance capabilities for mobile robots when integrated with Isaac Sim."}),"\n",(0,i.jsx)(e.h2,{id:"introduction-to-nav2",children:"Introduction to Nav2"}),"\n",(0,i.jsx)(e.h3,{id:"what-is-nav2",children:"What is Nav2?"}),"\n",(0,i.jsx)(e.p,{children:"Navigation2 (Nav2) is the navigation stack for ROS 2, designed to provide path planning, navigation, and obstacle avoidance capabilities for mobile robots. When integrated with NVIDIA Isaac Sim, it enables realistic simulation of navigation tasks with high-fidelity physics and sensor simulation."}),"\n",(0,i.jsx)(e.h3,{id:"key-components-of-nav2",children:"Key Components of Nav2"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Navigation Server"}),": Centralized navigation system"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Planners"}),": Global and local path planning algorithms"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Controllers"}),": Trajectory controllers for robot motion"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Recovery Behaviors"}),": Actions when navigation fails"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Sensors"}),": Integration with perception systems"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"nav2-architecture",children:"Nav2 Architecture"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"[Goals] -> [Navigation Server] -> [Global Planner] -> [Path]\r\n                                   |                    |\r\n                                   v                    v\r\n                            [Local Planner] -> [Controller] -> [Robot]\r\n                                   |                    |\r\n                                   v                    v\r\n                            [Recovery Behaviors] <- [Sensors]\n"})}),"\n",(0,i.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(e.p,{children:"Before setting up Nav2 integration, ensure you have:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Completed Isaac Sim and Isaac ROS bridge setup"}),"\n",(0,i.jsx)(e.li,{children:"Nav2 packages installed in ROS 2 environment"}),"\n",(0,i.jsx)(e.li,{children:"Robot model with appropriate sensors (LiDAR, camera, IMU)"}),"\n",(0,i.jsx)(e.li,{children:"Basic understanding of ROS 2 concepts"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"nav2-installation-and-setup",children:"Nav2 Installation and Setup"}),"\n",(0,i.jsx)(e.h3,{id:"1-verify-nav2-installation",children:"1. Verify Nav2 Installation"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Check if Nav2 packages are installed\r\ndpkg -l | grep nav2\r\n\r\n# If not installed, install Nav2 packages\r\nsudo apt update\r\nsudo apt install ros-humble-navigation2 ros-humble-nav2-bringup\r\nsudo apt install ros-humble-slam-toolbox ros-humble-robot-localization\n"})}),"\n",(0,i.jsx)(e.h3,{id:"2-source-ros-environment",children:"2. Source ROS Environment"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"source /opt/ros/humble/setup.bash\r\nsource ~/isaac_ros_ws/install/setup.bash\n"})}),"\n",(0,i.jsx)(e.h3,{id:"3-test-nav2-installation",children:"3. Test Nav2 Installation"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Check available Nav2 packages\r\nros2 pkg list | grep nav2\r\n\r\n# Verify Nav2 launch files\r\nls /opt/ros/humble/share/nav2_bringup/launch/\n"})}),"\n",(0,i.jsx)(e.h2,{id:"nav2-configuration-for-isaac-sim",children:"Nav2 Configuration for Isaac Sim"}),"\n",(0,i.jsx)(e.h3,{id:"1-create-nav2-configuration-directory",children:"1. Create Nav2 Configuration Directory"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"mkdir -p ~/isaac_ros_ws/src/isaac_nav2/config\n"})}),"\n",(0,i.jsx)(e.h3,{id:"2-create-complete-nav2-parameters-file",children:"2. Create Complete Nav2 Parameters File"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'cat > ~/isaac_ros_ws/src/isaac_nav2/config/nav2_params.yaml << \'EOF\'\r\namcl:\r\n  ros__parameters:\r\n    use_sim_time: True\r\n    alpha1: 0.2\r\n    alpha2: 0.2\r\n    alpha3: 0.2\r\n    alpha4: 0.2\r\n    alpha5: 0.2\r\n    base_frame_id: "base_footprint"\r\n    beam_skip_distance: 0.5\r\n    beam_skip_error_threshold: 0.9\r\n    beam_skip_threshold: 0.3\r\n    do_beamskip: false\r\n    global_frame_id: "map"\r\n    lambda_short: 0.1\r\n    laser_likelihood_max_dist: 2.0\r\n    laser_max_range: 100.0\r\n    laser_min_range: -1.0\r\n    laser_model_type: "likelihood_field"\r\n    max_beams: 60\r\n    max_particles: 2000\r\n    min_particles: 500\r\n    odom_frame_id: "odom"\r\n    pf_err: 0.05\r\n    pf_z: 0.99\r\n    recovery_alpha_fast: 0.0\r\n    recovery_alpha_slow: 0.0\r\n    resample_interval: 1\r\n    robot_model_type: "nav2_amcl::DifferentialMotionModel"\r\n    save_pose_rate: 0.5\r\n    sigma_hit: 0.2\r\n    tf_broadcast: true\r\n    transform_tolerance: 1.0\r\n    update_min_a: 0.2\r\n    update_min_d: 0.2\r\n    z_hit: 0.5\r\n    z_max: 0.05\r\n    z_rand: 0.5\r\n    z_short: 0.05\r\n\r\nbt_navigator:\r\n  ros__parameters:\r\n    use_sim_time: True\r\n    global_frame: "map"\r\n    robot_base_frame: "base_link"\r\n    odom_topic: "/odom"\r\n    bt_loop_duration: 10\r\n    default_server_timeout: 20\r\n    enable_groot_monitoring: False\r\n    default_nav_through_poses_bt_xml: "navigate_through_poses_w_replanning_and_recovery.xml"\r\n    default_nav_to_pose_bt_xml: "navigate_to_pose_w_replanning_and_recovery.xml"\r\n    plugin_lib_names:\r\n    - nav2_compute_path_to_pose_action_bt_node\r\n    - nav2_compute_path_through_poses_action_bt_node\r\n    - nav2_smooth_path_action_bt_node\r\n    - nav2_follow_path_action_bt_node\r\n    - nav2_spin_action_bt_node\r\n    - nav2_wait_action_bt_node\r\n    - nav2_assisted_teleop_action_bt_node\r\n    - nav2_back_up_action_bt_node\r\n    - nav2_drive_on_heading_bt_node\r\n    - nav2_clear_costmap_service_bt_node\r\n    - nav2_is_stuck_condition_bt_node\r\n    - nav2_goal_reached_condition_bt_node\r\n    - nav2_goal_updated_condition_bt_node\r\n    - nav2_globally_consistent_localization_condition_bt_node\r\n    - nav2_is_path_valid_condition_bt_node\r\n    - nav2_initial_pose_received_condition_bt_node\r\n    - nav2_reinitialize_global_localization_on_amcl_reset_condition_bt_node\r\n    - nav2_rate_controller_bt_node\r\n    - nav2_distance_controller_bt_node\r\n    - nav2_speed_controller_bt_node\r\n    - nav2_truncate_path_action_bt_node\r\n    - nav2_truncate_path_local_action_bt_node\r\n    - nav2_goal_updater_node_bt_node\r\n    - nav2_recovery_node_bt_node\r\n    - nav2_pipeline_sequence_bt_node\r\n    - nav2_round_robin_node_bt_node\r\n    - nav2_transform_available_condition_bt_node\r\n    - nav2_time_expired_condition_bt_node\r\n    - nav2_path_expiring_timer_condition\r\n    - nav2_distance_traveled_condition_bt_node\r\n    - nav2_single_trigger_bt_node\r\n    - nav2_is_battery_low_condition_bt_node\r\n    - nav2_navigate_through_poses_action_bt_node\r\n    - nav2_navigate_to_pose_action_bt_node\r\n    - nav2_remove_passed_goals_action_bt_node\r\n    - nav2_planner_selector_bt_node\r\n    - nav2_controller_selector_bt_node\r\n    - nav2_goal_checker_selector_bt_node\r\n    - nav2_controller_cancel_bt_node\r\n    - nav2_path_longer_on_approach_bt_node\r\n    - nav2_wait_cancel_bt_node\r\n    - nav2_spin_cancel_bt_node\r\n    - nav2_back_up_cancel_bt_node\r\n    - nav2_assisted_teleop_cancel_bt_node\r\n    - nav2_drive_on_heading_cancel_bt_node\r\n\r\ncontroller_server:\r\n  ros__parameters:\r\n    use_sim_time: True\r\n    controller_frequency: 20.0\r\n    min_x_velocity_threshold: 0.001\r\n    min_y_velocity_threshold: 0.5\r\n    min_theta_velocity_threshold: 0.001\r\n    progress_checker_plugin: "progress_checker"\r\n    goal_checker_plugin: "goal_checker"\r\n    controller_plugins: ["FollowPath"]\r\n\r\n    # Progress checker parameters\r\n    progress_checker:\r\n      plugin: "nav2_controller::SimpleProgressChecker"\r\n      required_movement_radius: 0.5\r\n      movement_time_allowance: 10.0\r\n\r\n    # Goal checker parameters\r\n    goal_checker:\r\n      plugin: "nav2_controller::SimpleGoalChecker"\r\n      xy_goal_tolerance: 0.25\r\n      yaw_goal_tolerance: 0.25\r\n      stateful: True\r\n\r\n    # DWB parameters\r\n    FollowPath:\r\n      plugin: "dwb_core::DWBLocalPlanner"\r\n      debug_trajectory_details: True\r\n      min_vel_x: 0.0\r\n      min_vel_y: 0.0\r\n      max_vel_x: 0.5\r\n      max_vel_y: 0.0\r\n      max_vel_theta: 1.0\r\n      min_speed_xy: 0.0\r\n      max_speed_xy: 0.5\r\n      min_speed_theta: 0.0\r\n      acc_lim_x: 2.5\r\n      acc_lim_y: 0.0\r\n      acc_lim_theta: 3.2\r\n      decel_lim_x: -2.5\r\n      decel_lim_y: 0.0\r\n      decel_lim_theta: -3.2\r\n      vx_samples: 20\r\n      vy_samples: 5\r\n      vtheta_samples: 20\r\n      sim_time: 1.7\r\n      linear_granularity: 0.05\r\n      angular_granularity: 0.025\r\n      transform_tolerance: 0.2\r\n      xy_goal_tolerance: 0.25\r\n      yaw_goal_tolerance: 0.25\r\n      stateful: True\r\n      global_plan_overwrite_orientation: True\r\n      max_global_plan_lookahead_dist: 3.0\r\n      feasibility_check_expected_pose_update_rate: 1.0\r\n      global_plan_prune_distance: 1.0\r\n      use_dwb: True\r\n      max_vel_obstacle: 0.4\r\n      preserve_goal_on_costmap_resize: True\r\n      prune_plan: True\r\n      controller_frequency: 20.0\r\n\r\nlocal_costmap:\r\n  local_costmap:\r\n    ros__parameters:\r\n      update_frequency: 5.0\r\n      publish_frequency: 2.0\r\n      global_frame: odom\r\n      robot_base_frame: base_link\r\n      use_sim_time: True\r\n      rolling_window: true\r\n      width: 3\r\n      height: 3\r\n      resolution: 0.05\r\n      robot_radius: 0.22\r\n      plugins: ["voxel_layer", "inflation_layer"]\r\n      inflation_layer:\r\n        cost_scaling_factor: 3.0\r\n        inflation_radius: 0.55\r\n      voxel_layer:\r\n        enabled: True\r\n        publish_voxel_map: True\r\n        origin_z: 0.0\r\n        z_resolution: 0.2\r\n        z_voxels: 10\r\n        max_obstacle_height: 2.0\r\n        mark_threshold: 0\r\n        observation_sources: scan\r\n        scan:\r\n          topic: /scan\r\n          max_obstacle_height: 2.0\r\n          clearing: True\r\n          marking: True\r\n          data_type: "LaserScan"\r\n      always_send_full_costmap: True\r\n\r\nglobal_costmap:\r\n  global_costmap:\r\n    ros__parameters:\r\n      update_frequency: 1.0\r\n      publish_frequency: 1.0\r\n      global_frame: map\r\n      robot_base_frame: base_link\r\n      use_sim_time: True\r\n      robot_radius: 0.22\r\n      resolution: 0.05\r\n      track_unknown_space: true\r\n      plugins: ["static_layer", "obstacle_layer", "inflation_layer"]\r\n      obstacle_layer:\r\n        enabled: True\r\n        observation_sources: scan\r\n        scan:\r\n          topic: /scan\r\n          max_obstacle_height: 2.0\r\n          clearing: True\r\n          marking: True\r\n          data_type: "LaserScan"\r\n      static_layer:\r\n        enabled: True\r\n        map_subscribe_transient_local: True\r\n      inflation_layer:\r\n        enabled: True\r\n        cost_scaling_factor: 3.0\r\n        inflation_radius: 0.55\r\n      always_send_full_costmap: True\r\n\r\nplanner_server:\r\n  ros__parameters:\r\n    expected_planner_frequency: 20.0\r\n    planner_plugins: ["GridBased"]\r\n    GridBased:\r\n      plugin: "nav2_navfn_planner::NavfnPlanner"\r\n      tolerance: 0.5\r\n      use_astar: false\r\n      allow_unknown: true\r\n\r\nsmoother_server:\r\n  ros__parameters:\r\n    smoother_plugins: ["simple_smoother"]\r\n    simple_smoother:\r\n      plugin: "nav2_smoother::SimpleSmoother"\r\n      tolerance: 1.0e-10\r\n      max_its: 1000\r\n      do_refinement: True\r\n\r\nbehavior_server:\r\n  ros__parameters:\r\n    costmap_topic: local_costmap/costmap_raw\r\n    footprint_topic: local_costmap/published_footprint\r\n    cycle_frequency: 10.0\r\n    behavior_plugins: ["spin", "backup", "wait"]\r\n    spin:\r\n      plugin: "nav2_behaviors::Spin"\r\n    backup:\r\n      plugin: "nav2_behaviors::BackUp"\r\n    wait:\r\n      plugin: "nav2_behaviors::Wait"\r\n    global_frame: odom\r\n    robot_base_frame: base_link\r\n    transform_tolerance: 0.1\r\n    use_sim_time: True\r\n    simulate_ahead_time: 2.0\r\n    max_rotational_vel: 1.0\r\n    min_rotational_vel: 0.4\r\n    rotational_acc_lim: 3.2\r\n\r\nwaypoint_follower:\r\n  ros__parameters:\r\n    loop_rate: 20\r\n    stop_on_failure: false\r\n    waypoint_task_executor_queue_size: 10\r\n    do_multithreading: true\r\n    start_waypoint_at_tolerance: 0.1\r\nEOF\n'})}),"\n",(0,i.jsx)(e.h3,{id:"3-create-nav2-map-configuration",children:"3. Create Nav2 Map Configuration"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cat > ~/isaac_ros_ws/src/isaac_nav2/config/map_params.yaml << 'EOF'\r\nmap_server:\r\n  ros__parameters:\r\n    yaml_filename: \"turtlebot3_world.yaml\"\r\n    save_map_timeout: 5.0\r\n    use_sim_time: True\r\n\r\nmap_saver:\r\n  ros__parameters:\r\n    save_map_timeout: 5.0\r\n    free_thresh_default: 0.25\r\n    occupied_thresh_default: 0.65\r\n    map_subscribe_transient_local: True\r\n    use_sim_time: True\r\nEOF\n"})}),"\n",(0,i.jsx)(e.h2,{id:"isaac-sim-robot-configuration-for-navigation",children:"Isaac Sim Robot Configuration for Navigation"}),"\n",(0,i.jsx)(e.h3,{id:"1-create-robot-description-for-navigation",children:"1. Create Robot Description for Navigation"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'mkdir -p ~/isaac_ros_ws/src/isaac_nav2/urdf\r\ncat > ~/isaac_ros_ws/src/isaac_nav2/urdf/carter_nav2.urdf.xacro << \'EOF\'\r\n<?xml version="1.0"?>\r\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="carter">\r\n  <xacro:arg name="namespace" default="carter"/>\r\n  <xacro:arg name="use_sim_time" default="true"/>\r\n\r\n  \x3c!-- Base Link --\x3e\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.5 0.3 0.2"/>\r\n      </geometry>\r\n      <material name="orange">\r\n        <color rgba="1.0 0.5 0.0 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.5 0.3 0.2"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="10"/>\r\n      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Base Footprint --\x3e\r\n  <link name="base_footprint"/>\r\n\r\n  <joint name="base_footprint_joint" type="fixed">\r\n    <parent link="base_footprint"/>\r\n    <child link="base_link"/>\r\n    <origin xyz="0.0 0.0 0.1" rpy="0 0 0"/>\r\n  </joint>\r\n\r\n  \x3c!-- IMU --\x3e\r\n  <link name="imu_link">\r\n    <inertial>\r\n      <mass value="0.01"/>\r\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  <joint name="imu_joint" type="fixed">\r\n    <parent link="base_link"/>\r\n    <child link="imu_link"/>\r\n    <origin xyz="0.0 0.0 0.1" rpy="0 0 0"/>\r\n  </joint>\r\n\r\n  \x3c!-- Laser --\x3e\r\n  <link name="laser_frame">\r\n    <inertial>\r\n      <mass value="0.1"/>\r\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  <joint name="laser_joint" type="fixed">\r\n    <parent link="base_link"/>\r\n    <child link="laser_frame"/>\r\n    <origin xyz="0.18 0.0 0.19" rpy="0 0 0"/>\r\n  </joint>\r\n\r\n  \x3c!-- Camera --\x3e\r\n  <link name="camera_frame">\r\n    <inertial>\r\n      <mass value="0.1"/>\r\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  <joint name="camera_joint" type="fixed">\r\n    <parent link="base_link"/>\r\n    <child link="camera_frame"/>\r\n    <origin xyz="0.2 0.0 0.15" rpy="0 0 0"/>\r\n  </joint>\r\n\r\n  \x3c!-- Wheels --\x3e\r\n  <xacro:macro name="wheel" params="prefix reflect joint_pos_x joint_pos_y">\r\n    <link name="${prefix}_wheel">\r\n      <visual>\r\n        <geometry>\r\n          <cylinder radius="0.05" length="0.04"/>\r\n        </geometry>\r\n        <origin xyz="0 0 0" rpy="${pi/2} 0 0"/>\r\n        <material name="black">\r\n          <color rgba="0.2 0.2 0.2 1.0"/>\r\n        </material>\r\n      </visual>\r\n      <collision>\r\n        <geometry>\r\n          <cylinder radius="0.05" length="0.04"/>\r\n        </geometry>\r\n        <origin xyz="0 0 0" rpy="${pi/2} 0 0"/>\r\n      </collision>\r\n      <inertial>\r\n        <mass value="0.5"/>\r\n        <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\r\n      </inertial>\r\n    </link>\r\n\r\n    <joint name="${prefix}_wheel_joint" type="continuous">\r\n      <parent link="base_link"/>\r\n      <child link="${prefix}_wheel"/>\r\n      <origin xyz="${joint_pos_x} ${joint_pos_y} 0.0" rpy="0 0 0"/>\r\n      <axis xyz="0 1 0"/>\r\n    </joint>\r\n\r\n    <gazebo reference="${prefix}_wheel">\r\n      <mu1 value="100.0"/>\r\n      <mu2 value="100.0"/>\r\n      <kp value="10000000.0"/>\r\n      <kd value="1.0"/>\r\n      <fdir1 value="1 0 0"/>\r\n      <material>Gazebo/Black</material>\r\n    </gazebo>\r\n  </xacro:macro>\r\n\r\n  <xacro:wheel prefix="front_left" reflect="1" joint_pos_x="0.15" joint_pos_y="0.15"/>\r\n  <xacro:wheel prefix="front_right" reflect="-1" joint_pos_x="0.15" joint_pos_y="-0.15"/>\r\n  <xacro:wheel prefix="back_left" reflect="1" joint_pos_x="-0.15" joint_pos_y="0.15"/>\r\n  <xacro:wheel prefix="back_right" reflect="-1" joint_pos_x="-0.15" joint_pos_y="-0.15"/>\r\n\r\n  \x3c!-- Differential Drive Controller --\x3e\r\n  <gazebo>\r\n    <plugin name="diff_drive" filename="libgazebo_ros_diff_drive.so">\r\n      <ros>\r\n        <namespace>$(arg namespace)</namespace>\r\n        <remapping>cmd_vel:=cmd_vel_nav</remapping>\r\n        <remapping>odom:=odom</remapping>\r\n      </ros>\r\n      <update_rate>30</update_rate>\r\n      <left_joint>front_left_wheel_joint</left_joint>\r\n      <right_joint>front_right_wheel_joint</right_joint>\r\n      <wheel_separation>0.3</wheel_separation>\r\n      <wheel_diameter>0.1</wheel_diameter>\r\n      <max_wheel_torque>20</max_wheel_torque>\r\n      <max_wheel_acceleration>1.0</max_wheel_acceleration>\r\n      <publish_odom>true</publish_odom>\r\n      <publish_odom_tf>true</publish_odom_tf>\r\n      <publish_wheel_tf>true</publish_wheel_tf>\r\n      <odometry_frame>odom</odometry_frame>\r\n      <robot_base_frame>base_footprint</robot_base_frame>\r\n    </plugin>\r\n  </gazebo>\r\n\r\n  \x3c!-- Laser Plugin --\x3e\r\n  <gazebo reference="laser_frame">\r\n    <sensor name="laser" type="ray">\r\n      <always_on>true</always_on>\r\n      <visualize>false</visualize>\r\n      <update_rate>10</update_rate>\r\n      <ray>\r\n        <scan>\r\n          <horizontal>\r\n            <samples>360</samples>\r\n            <resolution>1</resolution>\r\n            <min_angle>-3.14159</min_angle>\r\n            <max_angle>3.14159</max_angle>\r\n          </horizontal>\r\n        </scan>\r\n        <range>\r\n          <min>0.1</min>\r\n          <max>12.0</max>\r\n          <resolution>0.01</resolution>\r\n        </range>\r\n      </ray>\r\n      <plugin name="laser_controller" filename="libgazebo_ros_ray_sensor.so">\r\n        <ros>\r\n          <namespace>$(arg namespace)</namespace>\r\n          <remapping>out:=scan</remapping>\r\n        </ros>\r\n        <output_type>sensor_msgs/LaserScan</output_type>\r\n      </plugin>\r\n    </sensor>\r\n  </gazebo>\r\n\r\n  \x3c!-- IMU Plugin --\x3e\r\n  <gazebo reference="imu_link">\r\n    <sensor name="imu_sensor" type="imu">\r\n      <always_on>true</always_on>\r\n      <update_rate>100</update_rate>\r\n      <visualize>false</visualize>\r\n      <plugin name="imu_controller" filename="libgazebo_ros_imu.so">\r\n        <ros>\r\n          <namespace>$(arg namespace)</namespace>\r\n          <remapping>imu:=imu</remapping>\r\n        </ros>\r\n        <initial_orientation_as_reference>false</initial_orientation_as_reference>\r\n      </plugin>\r\n    </sensor>\r\n  </gazebo>\r\n\r\n  \x3c!-- Camera Plugin --\x3e\r\n  <gazebo reference="camera_frame">\r\n    <sensor name="camera" type="camera">\r\n      <always_on>true</always_on>\r\n      <visualize>true</visualize>\r\n      <update_rate>30</update_rate>\r\n      <camera name="head">\r\n        <horizontal_fov>1.3962634</horizontal_fov>\r\n        <image>\r\n          <width>640</width>\r\n          <height>480</height>\r\n          <format>R8G8B8</format>\r\n        </image>\r\n        <clip>\r\n          <near>0.1</near>\r\n          <far>100</far>\r\n        </clip>\r\n      </camera>\r\n      <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\r\n        <ros>\r\n          <namespace>$(arg namespace)</namespace>\r\n          <remapping>image_raw:=camera/color/image_raw</remapping>\r\n          <remapping>camera_info:=camera/color/camera_info</remapping>\r\n        </ros>\r\n      </plugin>\r\n    </sensor>\r\n  </gazebo>\r\n</robot>\r\nEOF\n'})}),"\n",(0,i.jsx)(e.h2,{id:"nav2-launch-files-for-isaac-sim",children:"Nav2 Launch Files for Isaac Sim"}),"\n",(0,i.jsx)(e.h3,{id:"1-create-launch-directory",children:"1. Create Launch Directory"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"mkdir -p ~/isaac_ros_ws/src/isaac_nav2/launch\n"})}),"\n",(0,i.jsx)(e.h3,{id:"2-create-nav2-bringup-launch-file-for-isaac-sim",children:"2. Create Nav2 Bringup Launch File for Isaac Sim"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cat > ~/isaac_ros_ws/src/isaac_nav2/launch/nav2_isaac_sim_bringup.launch.py << 'EOF'\r\nimport os\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument, IncludeLaunchDescription, TimerAction\r\nfrom launch.conditions import IfCondition\r\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\r\nfrom launch.substitutions import LaunchConfiguration, PathJoinSubstitution\r\nfrom launch_ros.actions import Node\r\nfrom launch_ros.substitutions import FindPackageShare\r\n\r\n\r\ndef generate_launch_description():\r\n    # Launch arguments\r\n    use_sim_time = LaunchConfiguration('use_sim_time', default='True')\r\n    autostart = LaunchConfiguration('autostart', default='True')\r\n    params_file = LaunchConfiguration('params_file', default='nav2_params.yaml')\r\n    namespace = LaunchConfiguration('namespace', default='')\r\n    map_yaml_file = LaunchConfiguration('map', default=os.path.join(\r\n        FindPackageShare('isaac_nav2').find('isaac_nav2'),\r\n        'maps', 'turtlebot3_world.yaml'))\r\n\r\n    # Package names\r\n    nav2_bringup_pkg = FindPackageShare('nav2_bringup').find('nav2_bringup')\r\n    isaac_nav2_pkg = FindPackageShare('isaac_nav2').find('isaac_nav2')\r\n\r\n    # Launch files\r\n    localization_launch_file = PathJoinSubstitution([\r\n        FindPackageShare('nav2_bringup'),\r\n        'launch',\r\n        'localization_launch.py'\r\n    ])\r\n\r\n    navigation_launch_file = PathJoinSubstitution([\r\n        FindPackageShare('nav2_bringup'),\r\n        'launch',\r\n        'navigation_launch.py'\r\n    ])\r\n\r\n    # Map server node\r\n    map_server_node = Node(\r\n        package='nav2_map_server',\r\n        executable='nav2_map_server',\r\n        name='map_server',\r\n        parameters=[{'use_sim_time': use_sim_time},\r\n                    {'yaml_filename': map_yaml_file}],\r\n        output='screen'\r\n    )\r\n\r\n    # Lifecycle manager for map server\r\n    lifecycle_manager_map_server = Node(\r\n        package='nav2_lifecycle_manager',\r\n        executable='lifecycle_manager',\r\n        name='lifecycle_manager_map_server',\r\n        parameters=[{'use_sim_time': use_sim_time},\r\n                    {'autostart': autostart},\r\n                    {'node_names': ['map_server']}],\r\n        output='screen'\r\n    )\r\n\r\n    # Localization launch (AMCL)\r\n    localization_launch = IncludeLaunchDescription(\r\n        PythonLaunchDescriptionSource(localization_launch_file),\r\n        launch_arguments={\r\n            'namespace': namespace,\r\n            'use_sim_time': use_sim_time,\r\n            'autostart': autostart,\r\n            'params_file': PathJoinSubstitution([\r\n                FindPackageShare('isaac_nav2'),\r\n                'config',\r\n                params_file\r\n            ])\r\n        }.items()\r\n    )\r\n\r\n    # Navigation launch\r\n    navigation_launch = IncludeLaunchDescription(\r\n        PythonLaunchDescriptionSource(navigation_launch_file),\r\n        launch_arguments={\r\n            'namespace': namespace,\r\n            'use_sim_time': use_sim_time,\r\n            'autostart': autostart,\r\n            'params_file': PathJoinSubstitution([\r\n                FindPackageShare('isaac_nav2'),\r\n                'config',\r\n                params_file\r\n            ])\r\n        }.items()\r\n    )\r\n\r\n    # Velocity smoother for navigation commands\r\n    velocity_smoother_node = Node(\r\n        package='nav2_velocity_smoother',\r\n        executable='velocity_smoother',\r\n        name='velocity_smoother',\r\n        parameters=[{\r\n            'use_sim_time': use_sim_time,\r\n            'smoothed_vel_topic': '/cmd_vel_smoothed',\r\n            'velocity_scaling_topic': '/navigation_velocity_smoother/raw_cmd_vel',\r\n            'feedback_topic': '/odom',\r\n            'robot_base_frame': 'base_link',\r\n            'publish_odom': True,\r\n            'publish_tf': False,\r\n            'forward_sampling_horizon': 0.1,\r\n            'angular_dist_threshold': 0.01,\r\n            'velocity_threshold': 0.01,\r\n            'max_velocity': 1.0,\r\n            'min_velocity': -1.0,\r\n            'max_accel': 1.0,\r\n            'max_decel': -1.0\r\n        }],\r\n        remappings=[\r\n            ('/cmd_vel', '/cmd_vel_nav'),\r\n            ('/smoothed_cmd_vel', '/cmd_vel')\r\n        ]\r\n    )\r\n\r\n    # Transform publisher for navigation frames\r\n    nav_transform_publisher = Node(\r\n        package='tf2_ros',\r\n        executable='static_transform_publisher',\r\n        name='nav_transform_publisher',\r\n        arguments=['0', '0', '0', '0', '0', '0', 'odom', 'map'],\r\n        parameters=[{'use_sim_time': use_sim_time}]\r\n    )\r\n\r\n    # Return launch description\r\n    ld = LaunchDescription()\r\n\r\n    # Add launch arguments\r\n    ld.add_action(DeclareLaunchArgument(\r\n        'use_sim_time',\r\n        default_value='True',\r\n        description='Use simulation (Gazebo) clock if true'))\r\n\r\n    ld.add_action(DeclareLaunchArgument(\r\n        'autostart',\r\n        default_value='True',\r\n        description='Automatically startup the nav2 stack'))\r\n\r\n    ld.add_action(DeclareLaunchArgument(\r\n        'params_file',\r\n        default_value='nav2_params.yaml',\r\n        description='Full path to the ROS2 parameters file to use for all launched nodes'))\r\n\r\n    ld.add_action(DeclareLaunchArgument(\r\n        'map',\r\n        default_value=os.path.join(isaac_nav2_pkg, 'maps', 'turtlebot3_world.yaml'),\r\n        description='Full path to map file to load'))\r\n\r\n    ld.add_action(DeclareLaunchArgument(\r\n        'namespace',\r\n        default_value='',\r\n        description='Top-level namespace'))\r\n\r\n    # Add nodes and launch descriptions\r\n    ld.add_action(lifecycle_manager_map_server)\r\n    ld.add_action(map_server_node)\r\n    ld.add_action(TimerAction(\r\n        period=3.0,\r\n        actions=[localization_launch]\r\n    ))\r\n    ld.add_action(TimerAction(\r\n        period=6.0,\r\n        actions=[navigation_launch]\r\n    ))\r\n    ld.add_action(velocity_smoother_node)\r\n    ld.add_action(nav_transform_publisher)\r\n\r\n    return ld\r\nEOF\n"})}),"\n",(0,i.jsx)(e.h3,{id:"3-create-isaac-sim-navigation-demo-launch-file",children:"3. Create Isaac Sim Navigation Demo Launch File"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cat > ~/isaac_ros_ws/src/isaac_nav2/launch/isaac_nav2_demo.launch.py << 'EOF'\r\nimport os\r\nfrom ament_index_python.packages import get_package_share_directory\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument, IncludeLaunchDescription, TimerAction\r\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\r\nfrom launch.substitutions import LaunchConfiguration, PathJoinSubstitution\r\nfrom launch_ros.actions import Node\r\nfrom launch_ros.substitutions import FindPackageShare\r\n\r\n\r\ndef generate_launch_description():\r\n    # Launch arguments\r\n    use_sim_time = LaunchConfiguration('use_sim_time', default='True')\r\n    params_file = LaunchConfiguration('params_file', default='nav2_params.yaml')\r\n\r\n    # Package names\r\n    isaac_nav2_pkg = FindPackageShare('isaac_nav2').find('isaac_nav2')\r\n\r\n    # Launch Isaac Sim navigation bringup\r\n    nav2_bringup_launch = IncludeLaunchDescription(\r\n        PythonLaunchDescriptionSource(\r\n            PathJoinSubstitution([\r\n                FindPackageShare('isaac_nav2'),\r\n                'launch',\r\n                'nav2_isaac_sim_bringup.launch.py'\r\n            ])\r\n        ),\r\n        launch_arguments={\r\n            'use_sim_time': use_sim_time,\r\n            'params_file': params_file\r\n        }.items()\r\n    )\r\n\r\n    # RViz2 for visualization\r\n    rviz_config_file = PathJoinSubstitution([\r\n        FindPackageShare('isaac_nav2'),\r\n        'rviz',\r\n        'nav2_isaac_sim_view.rviz'\r\n    ])\r\n\r\n    rviz_node = Node(\r\n        package='rviz2',\r\n        executable='rviz2',\r\n        name='rviz2',\r\n        arguments=['-d', rviz_config_file],\r\n        parameters=[{'use_sim_time': use_sim_time}],\r\n        output='screen'\r\n    )\r\n\r\n    # Navigation 2D pose estimate node (for initial pose setting)\r\n    initial_pose_node = Node(\r\n        package='nav2_lifecycle_manager',\r\n        executable='lifecycle_manager',\r\n        name='lifecycle_manager_initial_pose',\r\n        parameters=[{'use_sim_time': use_sim_time},\r\n                    {'autostart': True},\r\n                    {'node_names': ['initial_pose_publisher']}],\r\n        output='screen'\r\n    )\r\n\r\n    # Return launch description\r\n    ld = LaunchDescription()\r\n\r\n    # Add launch arguments\r\n    ld.add_action(DeclareLaunchArgument(\r\n        'use_sim_time',\r\n        default_value='True',\r\n        description='Use simulation (Gazebo) clock if true'))\r\n\r\n    ld.add_action(DeclareLaunchArgument(\r\n        'params_file',\r\n        default_value='nav2_params.yaml',\r\n        description='Full path to the ROS2 parameters file to use for all launched nodes'))\r\n\r\n    # Add nodes and launch descriptions\r\n    ld.add_action(nav2_bringup_launch)\r\n    ld.add_action(TimerAction(\r\n        period=10.0,\r\n        actions=[rviz_node]\r\n    ))\r\n    ld.add_action(initial_pose_node)\r\n\r\n    return ld\r\nEOF\n"})}),"\n",(0,i.jsx)(e.h2,{id:"rviz-configuration-for-navigation",children:"RViz Configuration for Navigation"}),"\n",(0,i.jsx)(e.h3,{id:"1-create-rviz-directory",children:"1. Create RViz Directory"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"mkdir -p ~/isaac_ros_ws/src/isaac_nav2/rviz\n"})}),"\n",(0,i.jsx)(e.h3,{id:"2-create-rviz-configuration-for-isaac-sim-navigation",children:"2. Create RViz Configuration for Isaac Sim Navigation"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'cat > ~/isaac_ros_ws/src/isaac_nav2/rviz/nav2_isaac_sim_view.rviz << \'EOF\'\r\nPanels:\r\n  - Class: rviz_common/Displays\r\n    Help Height: 78\r\n    Name: Displays\r\n    Property Tree Widget:\r\n      Expanded:\r\n        - /Global Options1\r\n        - /Status1\r\n        - /TF1/Frames1\r\n        - /LaserScan1\r\n        - /Map1\r\n        - /Local Costmap1\r\n        - /Global Costmap1\r\n        - /Global Planner1\r\n        - /Local Planner1\r\n        - /RobotModel1\r\n      Splitter Ratio: 0.5833333134651184\r\n    Tree Height: 857\r\n  - Class: rviz_common/Selection\r\n    Name: Selection\r\n  - Class: rviz_common/Tool Properties\r\n    Expanded:\r\n      - /2D Goal Pose1\r\n      - /Publish Point1\r\n    Name: Tool Properties\r\n    Splitter Ratio: 0.5886790156364441\r\n  - Class: rviz_common/Views\r\n    Expanded:\r\n      - /Current View1\r\n    Name: Views\r\n    Splitter Ratio: 0.5\r\n  - Class: nav2_rviz_plugins/Navigation 2\r\n    Name: Navigation 2\r\nVisualization Manager:\r\n  Class: ""\r\n  Displays:\r\n    - Alpha: 0.5\r\n      Cell Size: 1\r\n      Class: rviz_default_plugins/Grid\r\n      Color: 160; 160; 164\r\n      Enabled: true\r\n      Line Style:\r\n        Line Width: 0.029999999329447746\r\n        Value: Lines\r\n      Name: Grid\r\n      Normal Cell Count: 0\r\n      Offset:\r\n        X: 0\r\n        Y: 0\r\n        Z: 0\r\n      Plane: XY\r\n      Plane Cell Count: 100\r\n      Reference Frame: <Fixed Frame>\r\n      Value: true\r\n    - Alpha: 1\r\n      Class: rviz_default_plugins/RobotModel\r\n      Collision Enabled: false\r\n      Enabled: true\r\n      Links:\r\n        All Links Enabled: true\r\n        Expand Joint Details: false\r\n        Expand Link Details: false\r\n        Expand Tree: false\r\n        Link Tree Style: Links in Alphabetic Order\r\n      Name: RobotModel\r\n      Robot Description: robot_description\r\n      TF Prefix: ""\r\n      Update Interval: 0\r\n      Value: true\r\n      Visual Enabled: true\r\n    - Class: rviz_default_plugins/TF\r\n      Enabled: true\r\n      Frame Timeout: 15\r\n      Frames:\r\n        All Enabled: true\r\n        base_footprint:\r\n          Value: true\r\n        base_link:\r\n          Value: true\r\n        camera_frame:\r\n          Value: true\r\n        imu_link:\r\n          Value: true\r\n        laser_frame:\r\n          Value: true\r\n        map:\r\n          Value: true\r\n        odom:\r\n          Value: true\r\n      Marker Scale: 1\r\n      Name: TF\r\n      Show Arrows: true\r\n      Show Axes: true\r\n      Show Names: false\r\n      Tree:\r\n        map:\r\n          odom:\r\n            base_footprint:\r\n              base_link:\r\n                camera_frame:\r\n                  {}\r\n                imu_link:\r\n                  {}\r\n                laser_frame:\r\n                  {}\r\n      Update Interval: 0\r\n      Value: true\r\n    - Alpha: 1\r\n      Autocompute Intensity Bounds: true\r\n      Autocompute Value Bounds:\r\n        Max Value: 10\r\n        Min Value: -10\r\n        Value: true\r\n      Axis: Z\r\n      Channel Name: intensity\r\n      Class: rviz_default_plugins/LaserScan\r\n      Color: 255; 255; 255\r\n      Color Transformer: Intensity\r\n      Decay Time: 0\r\n      Enabled: true\r\n      Invert Rainbow: false\r\n      Max Color: 255; 255; 255\r\n      Max Intensity: 0\r\n      Min Color: 0; 0; 0\r\n      Min Intensity: 0\r\n      Name: LaserScan\r\n      Position Transformer: XYZ\r\n      Queue Size: 10\r\n      Selectable: true\r\n      Size (Pixels): 3\r\n      Size (m): 0.009999999776482582\r\n      Style: Flat Squares\r\n      Topic:\r\n        Depth: 5\r\n        Durability Policy: Volatile\r\n        Filter size: 10\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /scan\r\n      Use Fixed Frame: true\r\n      Use rainbow: true\r\n      Value: true\r\n    - Alpha: 1\r\n      Class: rviz_default_plugins/Map\r\n      Color Scheme: map\r\n      Draw Behind: false\r\n      Enabled: true\r\n      Name: Map\r\n      Topic:\r\n        Depth: 1\r\n        Durability Policy: Transient Local\r\n        Filter size: 10\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /map\r\n      Update Topic:\r\n        Depth: 5\r\n        Durability Policy: Volatile\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /map_updates\r\n      Use Timestamp: false\r\n      Value: true\r\n    - Alpha: 0.699999988079071\r\n      Class: rviz_default_plugins/Map\r\n      Color Scheme: costmap\r\n      Draw Behind: false\r\n      Enabled: true\r\n      Name: Local Costmap\r\n      Topic:\r\n        Depth: 1\r\n        Durability Policy: Volatile\r\n        Filter size: 10\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /local_costmap/costmap\r\n      Update Topic:\r\n        Depth: 5\r\n        Durability Policy: Volatile\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /local_costmap/costmap_updates\r\n      Use Timestamp: false\r\n      Value: true\r\n    - Alpha: 0.699999988079071\r\n      Class: rviz_default_plugins/Map\r\n      Color Scheme: costmap\r\n      Draw Behind: false\r\n      Enabled: true\r\n      Name: Global Costmap\r\n      Topic:\r\n        Depth: 1\r\n        Durability Policy: Volatile\r\n        Filter size: 10\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /global_costmap/costmap\r\n      Update Topic:\r\n        Depth: 5\r\n        Durability Policy: Volatile\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /global_costmap/costmap_updates\r\n      Use Timestamp: false\r\n      Value: true\r\n    - Alpha: 1\r\n      Buffer Length: 1\r\n      Class: rviz_default_plugins/Path\r\n      Color: 25; 255; 0\r\n      Enabled: true\r\n      Head Diameter: 0.30000001192092896\r\n      Head Length: 0.20000000298023224\r\n      Length: 0.30000001192092896\r\n      Line Style: Lines\r\n      Line Width: 0.029999999329447746\r\n      Name: Global Planner\r\n      Offset:\r\n        X: 0\r\n        Y: 0\r\n        Z: 0\r\n      Pose Color: 255; 85; 255\r\n      Pose Style: None\r\n      Radius: 0.029999999329447746\r\n      Shaft Diameter: 0.10000000149011612\r\n      Shaft Length: 0.10000000149011612\r\n      Topic:\r\n        Depth: 5\r\n        Durability Policy: Volatile\r\n        Filter size: 10\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /global_plan\r\n      Value: true\r\n    - Alpha: 1\r\n      Buffer Length: 1\r\n      Class: rviz_default_plugins/Path\r\n      Color: 255; 0; 0\r\n      Enabled: true\r\n      Head Diameter: 0.30000001192092896\r\n      Head Length: 0.20000000298023224\r\n      Length: 0.30000001192092896\r\n      Line Style: Lines\r\n      Line Width: 0.029999999329447746\r\n      Name: Local Planner\r\n      Offset:\r\n        X: 0\r\n        Y: 0\r\n        Z: 0\r\n      Pose Color: 255; 85; 255\r\n      Pose Style: None\r\n      Radius: 0.029999999329447746\r\n      Shaft Diameter: 0.10000000149011612\r\n      Shaft Length: 0.10000000149011612\r\n      Topic:\r\n        Depth: 5\r\n        Durability Policy: Volatile\r\n        Filter size: 10\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /local_plan\r\n      Value: true\r\n    - Class: rviz_default_plugins/MarkerArray\r\n      Enabled: true\r\n      Name: MarkerArray\r\n      Namespaces:\r\n        {}\r\n      Topic:\r\n        Depth: 5\r\n        Durability Policy: Volatile\r\n        Filter size: 10\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /waypoints\r\n      Value: true\r\n  Enabled: true\r\n  Global Options:\r\n    Background Color: 48; 48; 48\r\n    Fixed Frame: map\r\n    Frame Rate: 30\r\n  Name: root\r\n  Tools:\r\n    - Class: rviz_default_plugins/MoveCamera\r\n    - Class: rviz_default_plugins/Select\r\n    - Class: rviz_default_plugins/FocusCamera\r\n    - Class: rviz_default_plugins/Measure\r\n    - Class: rviz_default_plugins/SetInitialPose\r\n      Topic:\r\n        Depth: 5\r\n        Durability Policy: Volatile\r\n        Filter size: 10\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /initialpose\r\n    - Class: rviz_default_plugins/SetGoal\r\n      Topic:\r\n        Depth: 5\r\n        Durability Policy: Volatile\r\n        Filter size: 10\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /goal_pose\r\n    - Class: rviz_default_plugins/PublishPoint\r\n      Single click: true\r\n      Topic:\r\n        Depth: 5\r\n        Durability Policy: Volatile\r\n        Filter size: 10\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /clicked_point\r\n  Transformation:\r\n    Current:\r\n      Class: rviz_default_plugins/TF\r\n  Value: true\r\n  Views:\r\n    Current:\r\n      Class: rviz_default_plugins/Orbit\r\n      Distance: 10\r\n      Enable Stereo Rendering:\r\n        Stereo Eye Separation: 0.05999999865889549\r\n        Stereo Focal Distance: 1\r\n        Swap Stereo Eyes: false\r\n        Value: false\r\n      Focal Point:\r\n        X: 0\r\n        Y: 0\r\n        Z: 0\r\n      Focal Shape Fixed Size: true\r\n      Focal Shape Size: 0.05000000074505806\r\n      Invert Z Axis: false\r\n      Name: Current View\r\n      Near Clip Distance: 0.009999999776482582\r\n      Pitch: 0.7853981852531433\r\n      Target Frame: <Fixed Frame>\r\n      Value: Orbit (rviz)\r\n      Yaw: 0.7853981852531433\r\n    Saved: ~\r\nWindow Geometry:\r\n  Displays:\r\n    collapsed: false\r\n  Height: 1043\r\n  Hide Left Dock: false\r\n  Hide Right Dock: true\r\n  Navigation 2:\r\n    collapsed: false\r\n  QMainWindow State: 000000ff00000000fd0000000400000000000001560000039ffc0200000008fb0000001200530065006c0065006300740069006f006e00000001e10000009b0000005c00fffffffb0000001e0054006f006f006c002000500072006f007000650072007400690065007302000001ed000001df00000185000000a3fb000000120056006900650077007300200054006f006f02000001df000002110000018500000122fb000000200054006f006f006c002000500072006f0070006500720074006900650073003203000002880000011d000002210000017afb000000100044006900730070006c006100790073010000003d0000039f000000c900fffffffb0000002000730065006c0065006300740069006f006e00200062007500660066006500720200000138000000aa0000023a00000294fb00000014005700690064006500530074006500720065006f02000000e6000000d2000003ee0000030bfb0000000c004b0069006e0065006300740200000186000001060000030c00000261000000010000010f0000039ffc0200000003fb0000001e0054006f006f006c002000500072006f00700065007200740069006500730100000041000000780000000000000000fb0000000a00560069006500770073000000003d0000039f000000a400fffffffb0000001200530065006c0065006300740069006f006e010000025a000000b200000000000000000000000200000490000000a9fc0100000001fb0000000a00560069006500770073030000004e00000080000002e10000019700000003000004420000003efc0100000002fb0000000800540069006d00650100000000000004420000000000000000fb0000000800540069006d00650100000000000004500000000000000000000003910000039f00000004000000040000000800000008fc0000000100000002000000010000000a0054006f006f006c00730100000000ffffffff0000000000000000\r\n  Selection:\r\n    collapsed: false\r\n  Tool Properties:\r\n    collapsed: false\r\n  Views:\r\n    collapsed: true\r\n  Width: 1853\r\n  X: 67\r\n  Y: 27\r\nEOF\n'})}),"\n",(0,i.jsx)(e.h2,{id:"isaac-sim-navigation-integration-package",children:"Isaac Sim Navigation Integration Package"}),"\n",(0,i.jsx)(e.h3,{id:"1-create-isaac-sim-navigation-package",children:"1. Create Isaac Sim Navigation Package"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cd ~/isaac_ros_ws/src\r\nsource /opt/ros/humble/setup.bash\r\n\r\n# Create package for Isaac Sim navigation integration\r\nros2 pkg create --build-type ament_cmake isaac_nav2 --dependencies rclcpp rclpy nav2_common nav2_msgs nav2_bringup\n"})}),"\n",(0,i.jsx)(e.h3,{id:"2-create-cmakeliststxt",children:"2. Create CMakeLists.txt"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cat > ~/isaac_ros_ws/src/isaac_nav2/CMakeLists.txt << 'EOF'\r\ncmake_minimum_required(VERSION 3.8)\r\nproject(isaac_nav2)\r\n\r\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES \"Clang\")\r\n  add_compile_options(-Wall -Wextra -Wpedantic)\r\nendif()\r\n\r\n# find dependencies\r\nfind_package(ament_cmake REQUIRED)\r\nfind_package(rclcpp REQUIRED)\r\nfind_package(rclpy REQUIRED)\r\nfind_package(nav2_common REQUIRED)\r\nfind_package(nav2_msgs REQUIRED)\r\nfind_package(nav2_bringup REQUIRED)\r\n\r\n# Install launch files\r\ninstall(DIRECTORY launch\r\n  DESTINATION share/${PROJECT_NAME}/\r\n)\r\n\r\n# Install config files\r\ninstall(DIRECTORY config\r\n  DESTINATION share/${PROJECT_NAME}/\r\n)\r\n\r\n# Install URDF files\r\ninstall(DIRECTORY urdf\r\n  DESTINATION share/${PROJECT_NAME}/\r\n)\r\n\r\n# Install RViz files\r\ninstall(DIRECTORY rviz\r\n  DESTINATION share/${PROJECT_NAME}/\r\n)\r\n\r\n# Install maps if any\r\ninstall(DIRECTORY maps\r\n  DESTINATION share/${PROJECT_NAME}/\r\n  OPTIONAL\r\n)\r\n\r\nif(BUILD_TESTING)\r\n  find_package(ament_lint_auto REQUIRED)\r\n  # the following line skips the linter which checks for copyrights\r\n  # comment the line when a copyright and license is added to all source files\r\n  set(ament_cmake_copyright_FOUND TRUE)\r\n  # the following line skips cpplint (only works in a git repo)\r\n  # comment the line when this package is in a git repo and cpplint is enabled\r\n  set(ament_cmake_cpplint_FOUND TRUE)\r\n  ament_lint_auto_find_test_dependencies()\r\nendif()\r\n\r\nament_package()\r\nEOF\n"})}),"\n",(0,i.jsx)(e.h3,{id:"3-create-package-xml",children:"3. Create Package XML"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'cat > ~/isaac_ros_ws/src/isaac_nav2/package.xml << \'EOF\'\r\n<?xml version="1.0"?>\r\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\r\n<package format="3">\r\n  <name>isaac_nav2</name>\r\n  <version>0.0.1</version>\r\n  <description>Isaac Sim integration with Navigation2 stack</description>\r\n  <maintainer email="your.email@example.com">Your Name</maintainer>\r\n  <license>Apache License 2.0</license>\r\n\r\n  <buildtool_depend>ament_cmake</buildtool_depend>\r\n\r\n  <depend>rclcpp</depend>\r\n  <depend>rclpy</depend>\r\n  <depend>nav2_common</depend>\r\n  <depend>nav2_msgs</depend>\r\n  <depend>nav2_bringup</depend>\r\n\r\n  <test_depend>ament_lint_auto</test_depend>\r\n  <test_depend>ament_lint_common</test_depend>\r\n\r\n  <export>\r\n    <build_type>ament_cmake</build_type>\r\n  </export>\r\n</package>\r\nEOF\n'})}),"\n",(0,i.jsx)(e.h2,{id:"navigation-performance-and-testing",children:"Navigation Performance and Testing"}),"\n",(0,i.jsx)(e.h3,{id:"1-create-navigation-performance-test-script",children:"1. Create Navigation Performance Test Script"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'cat > ~/test_nav2_integration.sh << \'EOF\'\r\n#!/bin/bash\r\n\r\n# Test script for Isaac Sim Nav2 integration\r\n\r\necho "Testing Isaac Sim Nav2 integration..."\r\n\r\n# Source ROS environment\r\nsource /opt/ros/humble/setup.bash\r\nsource ~/isaac_ros_ws/install/setup.bash\r\n\r\n# Check if Nav2 packages are available\r\necho "Checking Nav2 packages..."\r\nros2 pkg list | grep nav2\r\n\r\nif [ $? -eq 0 ]; then\r\n    echo "\u2713 Nav2 packages found"\r\nelse\r\n    echo "\u2717 Nav2 packages not found"\r\n    exit 1\r\nfi\r\n\r\n# Check if Isaac Nav2 package is available\r\necho "Checking Isaac Nav2 package..."\r\nros2 pkg list | grep isaac_nav2\r\n\r\nif [ $? -eq 0 ]; then\r\n    echo "\u2713 Isaac Nav2 package found"\r\nelse\r\n    echo "\u2717 Isaac Nav2 package not found"\r\n    exit 1\r\nfi\r\n\r\n# Test Nav2 launch files\r\necho "Checking Nav2 launch files..."\r\nls ~/isaac_ros_ws/install/isaac_nav2/share/isaac_nav2/launch/ | grep -i nav\r\n\r\nif [ $? -eq 0 ]; then\r\n    echo "\u2713 Nav2 launch files found"\r\nelse\r\n    echo "\u2717 Nav2 launch files not found"\r\n    exit 1\r\nfi\r\n\r\n# Build the Isaac Nav2 package\r\necho "Building Isaac Nav2 package..."\r\ncd ~/isaac_ros_ws\r\ncolcon build --packages-select isaac_nav2\r\nsource install/setup.bash\r\n\r\necho "Isaac Sim Nav2 integration test completed."\r\nEOF\r\n\r\n# Make executable\r\nchmod +x ~/test_nav2_integration.sh\n'})}),"\n",(0,i.jsx)(e.h3,{id:"2-run-navigation-integration-test",children:"2. Run Navigation Integration Test"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"~/test_nav2_integration.sh\n"})}),"\n",(0,i.jsx)(e.h2,{id:"navigation-behavior-trees-configuration",children:"Navigation Behavior Trees Configuration"}),"\n",(0,i.jsx)(e.h3,{id:"1-create-custom-behavior-trees",children:"1. Create Custom Behavior Trees"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"mkdir -p ~/isaac_ros_ws/src/isaac_nav2/behavior_trees\n"})}),"\n",(0,i.jsx)(e.h3,{id:"2-create-navigation-behavior-tree-with-isaac-specific-recovery",children:"2. Create Navigation Behavior Tree with Isaac-specific Recovery"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'cat > ~/isaac_ros_ws/src/isaac_nav2/behavior_trees/navigate_to_pose_w_isaac_recovery.xml << \'EOF\'\r\n<root main_tree_to_execute="MainTree">\r\n  <BehaviorTree ID="MainTree">\r\n    <Sequence name="root_sequence">\r\n      <ReactiveSequence name="task_sequence">\r\n        <RemovePassedGoals input_goals="{goals}" output_goals="{goals}" radius="{goal_radius}">\r\n          <ComputePathToPose goal="{current_goal}" path="{path}" planner_id="GridBased">\r\n            <PipelineSequence name="global_pipeline">\r\n              <RateController hz="1.0">\r\n                <IsPathValid path="{path}"/>\r\n              </RateController>\r\n            </PipelineSequence>\r\n          </ComputePathToPose>\r\n          <FollowPath path="{path}" controller_id="FollowPath">\r\n            <PipelineSequence name="local_pipeline">\r\n              <RateController hz="20.0">\r\n                <IsPathValid path="{path}"/>\r\n              </RateController>\r\n            </PipelineSequence>\r\n          </FollowPath>\r\n        </RemovePassedGoals>\r\n      </ReactiveSequence>\r\n      <ReactiveFallback name="global_recover">\r\n        <GoalUpdated/>\r\n        <Sequence name="global_recovery">\r\n          <ClearEntireCostmap name="global_clear" service_name="global_costmap/clear_entirely_global_costmap"/>\r\n          <Wait wait_duration="5"/>\r\n        </Sequence>\r\n      </ReactiveFallback>\r\n    </Sequence>\r\n  </BehaviorTree>\r\n</root>\r\nEOF\n'})}),"\n",(0,i.jsx)(e.h2,{id:"troubleshooting-nav2-integration",children:"Troubleshooting Nav2 Integration"}),"\n",(0,i.jsx)(e.h3,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,i.jsx)(e.h4,{id:"issue-nav2-nodes-not-starting-properly",children:'Issue: "Nav2 nodes not starting properly"'}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Solution"}),": Check parameters and timing"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'# Verify parameters file\r\nros2 param list | grep nav2\r\n\r\n# Check timing issues\r\necho "use_sim_time should be set to true in all nodes"\n'})}),"\n",(0,i.jsx)(e.h4,{id:"issue-robot-not-moving-in-isaac-sim",children:'Issue: "Robot not moving in Isaac Sim"'}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Solution"}),": Check TF tree and command remapping"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Check TF tree\r\nros2 run tf2_tools view_frames\r\n\r\n# Check command topic remapping\r\nros2 topic echo /cmd_vel\n"})}),"\n",(0,i.jsx)(e.h4,{id:"issue-costmaps-not-updating",children:'Issue: "Costmaps not updating"'}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Solution"}),": Verify sensor data and frame IDs"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'# Check if sensor data is available\r\nros2 topic echo /scan\r\n\r\n# Verify frame IDs in costmap configuration\r\ngrep -r "frame" ~/isaac_ros_ws/src/isaac_nav2/config/\n'})}),"\n",(0,i.jsx)(e.h2,{id:"verification-checklist",children:"Verification Checklist"}),"\n",(0,i.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Nav2 packages installed and configured"]}),"\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Isaac Sim robot description created"]}),"\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Nav2 parameters file created and configured"]}),"\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Launch files created for Isaac Sim integration"]}),"\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","RViz configuration created for navigation visualization"]}),"\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Isaac Nav2 package created and built"]}),"\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Custom behavior trees configured"]}),"\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Test script created and functional"]}),"\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Troubleshooting guide reviewed"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(e.p,{children:"After implementing Nav2 integration:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Test navigation"})," with Isaac Sim"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Run navigation exercises"})," from Lesson 2"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Integrate with perception system"})," for obstacle avoidance"]}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.strong,{children:"Create navigation assessment tasks"})}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"The Nav2 navigation stack is now integrated with Isaac Sim and ready for Module 3, providing students with a complete navigation system for AI-robot applications."})]})}function u(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(_,{...n})}):_(n)}}}]);