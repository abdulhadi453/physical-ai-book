"use strict";(globalThis.webpackChunkai_native_textbook_physical_ai_humanoid_robotics=globalThis.webpackChunkai_native_textbook_physical_ai_humanoid_robotics||[]).push([[6915],{8453:(n,e,i)=>{i.d(e,{R:()=>s,x:()=>o});var a=i(6540);const t={},r=a.createContext(t);function s(n){const e=a.useContext(r);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:s(n.components),a.createElement(r.Provider,{value:e},n.children)}},8686:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"chapter-3/lesson-2","title":"Lesson 3.1.2: Navigation and Path Planning with Nav2","description":"Overview","source":"@site/docs/chapter-3/lesson-2.md","sourceDirName":"chapter-3","slug":"/chapter-3/lesson-2","permalink":"/ur/docs/chapter-3/lesson-2","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/chapter-3/lesson-2.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Lesson 3.1.1: NVIDIA Isaac Simulation Environment and ROS Integration","permalink":"/ur/docs/chapter-3/lesson-1"},"next":{"title":"Lesson 3.1.3: Perception and AI Decision Making","permalink":"/ur/docs/chapter-3/lesson-3"}}');var t=i(4848),r=i(8453);const s={},o="Lesson 3.1.2: Navigation and Path Planning with Nav2",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction to Nav2",id:"introduction-to-nav2",level:2},{value:"Key Components of Nav2",id:"key-components-of-nav2",level:3},{value:"Nav2 Architecture",id:"nav2-architecture",level:3},{value:"Agent Interaction Points",id:"agent-interaction-points",level:2},{value:"AI Assistant Request: Nav2 Architecture Explanation",id:"ai-assistant-request-nav2-architecture-explanation",level:3},{value:"AI Assistant Request: Troubleshoot Nav2 Integration",id:"ai-assistant-request-troubleshoot-nav2-integration",level:3},{value:"AI Assistant Request: Path Planning Algorithm Selection",id:"ai-assistant-request-path-planning-algorithm-selection",level:3},{value:"Nav2 Integration with Isaac",id:"nav2-integration-with-isaac",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Installation and Setup",id:"installation-and-setup",level:3},{value:"Launching Nav2 with Isaac",id:"launching-nav2-with-isaac",level:3},{value:"Path Planning Algorithms",id:"path-planning-algorithms",level:2},{value:"Global Planners",id:"global-planners",level:3},{value:"A* Planner",id:"a-planner",level:4},{value:"Dijkstra Planner",id:"dijkstra-planner",level:4},{value:"NavFn Planner",id:"navfn-planner",level:4},{value:"Local Planners",id:"local-planners",level:3},{value:"DWA Local Planner",id:"dwa-local-planner",level:4},{value:"Trajectory Rollout",id:"trajectory-rollout",level:4},{value:"Configuration Example",id:"configuration-example",level:3},{value:"Navigation Behaviors",id:"navigation-behaviors",level:2},{value:"Pure Navigation",id:"pure-navigation",level:3},{value:"Navigation with Recovery",id:"navigation-with-recovery",level:3},{value:"Navigation with Smoothing",id:"navigation-with-smoothing",level:3},{value:"Obstacle Avoidance Systems",id:"obstacle-avoidance-systems",level:2},{value:"Costmap Configuration",id:"costmap-configuration",level:3},{value:"Dynamic Obstacle Avoidance",id:"dynamic-obstacle-avoidance",level:3},{value:"Agent Interaction Points for Exercises",id:"agent-interaction-points-for-exercises",level:2},{value:"AI Assistant Request: Exercise 3 Guidance",id:"ai-assistant-request-exercise-3-guidance",level:3},{value:"AI Assistant Request: Exercise 4 Guidance",id:"ai-assistant-request-exercise-4-guidance",level:3},{value:"Exercise 3: Basic Navigation Setup",id:"exercise-3-basic-navigation-setup",level:2},{value:"Objective",id:"objective",level:3},{value:"Steps",id:"steps",level:3},{value:"Expected Outcome",id:"expected-outcome",level:3},{value:"Exercise 4: Advanced Navigation with Recovery",id:"exercise-4-advanced-navigation-with-recovery",level:2},{value:"Objective",id:"objective-1",level:3},{value:"Steps",id:"steps-1",level:3},{value:"Expected Outcome",id:"expected-outcome-1",level:3},{value:"Performance Evaluation",id:"performance-evaluation",level:2},{value:"Metrics for Navigation Performance",id:"metrics-for-navigation-performance",level:3},{value:"Evaluation Tools",id:"evaluation-tools",level:3},{value:"Assessment Questions",id:"assessment-questions",level:2},{value:"Summary",id:"summary",level:2},{value:"Agent Interaction Points for Review",id:"agent-interaction-points-for-review",level:2},{value:"AI Assistant Request: Lesson Review",id:"ai-assistant-request-lesson-review",level:3},{value:"AI Assistant Request: Troubleshooting Summary",id:"ai-assistant-request-troubleshooting-summary",level:3}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"lesson-312-navigation-and-path-planning-with-nav2",children:"Lesson 3.1.2: Navigation and Path Planning with Nav2"})}),"\n",(0,t.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(e.p,{children:"This lesson focuses on implementing navigation systems using Nav2 integrated with the NVIDIA Isaac platform. You'll learn how to create path planning algorithms that allow robots to navigate complex environments autonomously."}),"\n",(0,t.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsx)(e.p,{children:"After completing this lesson, you will be able to:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Integrate Nav2 with NVIDIA Isaac simulation"}),"\n",(0,t.jsx)(e.li,{children:"Configure path planning algorithms"}),"\n",(0,t.jsx)(e.li,{children:"Implement navigation behaviors"}),"\n",(0,t.jsx)(e.li,{children:"Create obstacle avoidance systems"}),"\n",(0,t.jsx)(e.li,{children:"Evaluate navigation performance"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"introduction-to-nav2",children:"Introduction to Nav2"}),"\n",(0,t.jsx)(e.p,{children:"Navigation2 (Nav2) is the navigation stack for ROS 2, designed to provide path planning, navigation, and obstacle avoidance capabilities for mobile robots. When integrated with NVIDIA Isaac, it enables realistic simulation of navigation tasks."}),"\n",(0,t.jsx)(e.h3,{id:"key-components-of-nav2",children:"Key Components of Nav2"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Navigation Server"}),": Centralized navigation system"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Planners"}),": Global and local path planning algorithms"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Controllers"}),": Trajectory controllers for robot motion"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Recovery Behaviors"}),": Actions when navigation fails"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Sensors"}),": Integration with perception systems"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"nav2-architecture",children:"Nav2 Architecture"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"[Goals] -> [Navigation Server] -> [Global Planner] -> [Path]\r\n                                   |                    |\r\n                                   v                    v\r\n                            [Local Planner] -> [Controller] -> [Robot]\r\n                                   |                    |\r\n                                   v                    v\r\n                            [Recovery Behaviors] <- [Sensors]\n"})}),"\n",(0,t.jsx)(e.h2,{id:"agent-interaction-points",children:"Agent Interaction Points"}),"\n",(0,t.jsx)(e.h3,{id:"ai-assistant-request-nav2-architecture-explanation",children:"AI Assistant Request: Nav2 Architecture Explanation"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Context"}),": Understanding Nav2 architecture\r\n",(0,t.jsx)(e.strong,{children:"Request"}),': "Explain the Nav2 architecture and how each component interacts with the others"\r\n',(0,t.jsx)(e.strong,{children:"Expected Output"}),": Detailed explanation of Nav2 components and their interactions"]}),"\n",(0,t.jsx)(e.h3,{id:"ai-assistant-request-troubleshoot-nav2-integration",children:"AI Assistant Request: Troubleshoot Nav2 Integration"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Context"}),": Nav2 integration with Isaac Sim\r\n",(0,t.jsx)(e.strong,{children:"Request"}),': "I\'m getting errors when launching Nav2 with Isaac Sim. What should I check?"\r\n',(0,t.jsx)(e.strong,{children:"Expected Output"}),": Troubleshooting guide for Nav2-Isaac integration issues"]}),"\n",(0,t.jsx)(e.h3,{id:"ai-assistant-request-path-planning-algorithm-selection",children:"AI Assistant Request: Path Planning Algorithm Selection"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Context"}),": Choosing path planning algorithms\r\n",(0,t.jsx)(e.strong,{children:"Request"}),': "Which path planning algorithm should I use for my specific scenario?"\r\n',(0,t.jsx)(e.strong,{children:"Expected Output"}),": Decision guide for selecting appropriate planners based on scenario requirements"]}),"\n",(0,t.jsx)(e.h2,{id:"nav2-integration-with-isaac",children:"Nav2 Integration with Isaac"}),"\n",(0,t.jsx)(e.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Completed Lesson 1 (Isaac Sim + ROS integration)"}),"\n",(0,t.jsx)(e.li,{children:"Nav2 packages installed in ROS 2 environment"}),"\n",(0,t.jsx)(e.li,{children:"Robot model with appropriate sensors (LiDAR, camera, IMU)"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"installation-and-setup",children:"Installation and Setup"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Install Nav2 packages\r\nsudo apt update\r\nsudo apt install ros-humble-navigation2 ros-humble-nav2-bringup\r\n\r\n# Source the ROS 2 environment\r\nsource /opt/ros/humble/setup.bash\r\nsource install/setup.bash\n"})}),"\n",(0,t.jsx)(e.h3,{id:"launching-nav2-with-isaac",children:"Launching Nav2 with Isaac"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Launch Isaac Sim with Nav2 configuration\r\nros2 launch nav2_bringup navigation_launch.py \\\r\n  use_sim_time:=true \\\r\n  params_file:=/path/to/nav2_params.yaml\n"})}),"\n",(0,t.jsx)(e.h2,{id:"path-planning-algorithms",children:"Path Planning Algorithms"}),"\n",(0,t.jsx)(e.h3,{id:"global-planners",children:"Global Planners"}),"\n",(0,t.jsx)(e.p,{children:"Global planners compute a path from the start to goal positions based on a map of the environment."}),"\n",(0,t.jsx)(e.h4,{id:"a-planner",children:"A* Planner"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Optimal path finding algorithm"}),"\n",(0,t.jsx)(e.li,{children:"Guarantees shortest path"}),"\n",(0,t.jsx)(e.li,{children:"Computationally intensive for large maps"}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"dijkstra-planner",children:"Dijkstra Planner"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Similar to A* but without heuristic"}),"\n",(0,t.jsx)(e.li,{children:"Guarantees optimal solution"}),"\n",(0,t.jsx)(e.li,{children:"Slower than A* in practice"}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"navfn-planner",children:"NavFn Planner"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Fast navigation function"}),"\n",(0,t.jsx)(e.li,{children:"Uses wavefront propagation"}),"\n",(0,t.jsx)(e.li,{children:"Good for real-time applications"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"local-planners",children:"Local Planners"}),"\n",(0,t.jsx)(e.p,{children:"Local planners generate velocity commands to follow the global path while avoiding obstacles."}),"\n",(0,t.jsx)(e.h4,{id:"dwa-local-planner",children:"DWA Local Planner"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Dynamic Window Approach"}),"\n",(0,t.jsx)(e.li,{children:"Considers robot dynamics"}),"\n",(0,t.jsx)(e.li,{children:"Good obstacle avoidance"}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"trajectory-rollout",children:"Trajectory Rollout"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Evaluates multiple trajectory options"}),"\n",(0,t.jsx)(e.li,{children:"Balances speed and safety"}),"\n",(0,t.jsx)(e.li,{children:"Computationally efficient"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"configuration-example",children:"Configuration Example"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-yaml",children:'# nav2_params.yaml\r\namcl:\r\n  ros__parameters:\r\n    use_sim_time: True\r\n    alpha1: 0.2\r\n    alpha2: 0.2\r\n    alpha3: 0.2\r\n    alpha4: 0.2\r\n    alpha5: 0.2\r\n    base_frame_id: "base_footprint"\r\n    beam_skip_distance: 0.5\r\n    beam_skip_error_threshold: 0.9\r\n    beam_skip_threshold: 0.3\r\n    do_beamskip: false\r\n    global_frame_id: "map"\r\n    lambda_short: 0.1\r\n    laser_likelihood_max_dist: 2.0\r\n    laser_max_range: 100.0\r\n    laser_min_range: -1.0\r\n    laser_model_type: "likelihood_field"\r\n    max_beams: 60\r\n    max_particles: 2000\r\n    min_particles: 500\r\n    odom_frame_id: "odom"\r\n    pf_err: 0.05\r\n    pf_z: 0.99\r\n    recovery_alpha_fast: 0.0\r\n    recovery_alpha_slow: 0.0\r\n    resample_interval: 1\r\n    robot_model_type: "nav2_amcl::DifferentialMotionModel"\r\n    save_pose_rate: 0.5\r\n    sigma_hit: 0.2\r\n    tf_broadcast: true\r\n    transform_tolerance: 1.0\r\n    update_min_a: 0.2\r\n    update_min_d: 0.2\r\n    z_hit: 0.5\r\n    z_max: 0.05\r\n    z_rand: 0.5\r\n    z_short: 0.05\r\n\r\nbt_navigator:\r\n  ros__parameters:\r\n    use_sim_time: True\r\n    global_frame: "map"\r\n    robot_base_frame: "base_link"\r\n    odom_topic: "/odom"\r\n    bt_loop_duration: 10\r\n    default_server_timeout: 20\r\n    enable_groot_monitoring: True\r\n    groot_zmq_publisher_port: 1666\r\n    groot_zmq_server_port: 1667\r\n    # Note: the \'default_nav_through_poses_bt_xml\' and \'default_nav_to_pose_bt_xml\'\r\n    # will be used as the default behavior tree for the navigator.\r\n    # You can specify a different behavior tree file at runtime with the\r\n    # \'behavior_tree\' parameter in the action goal.\r\n    default_nav_through_poses_bt_xml: "navigate_through_poses_w_replanning_and_recovery.xml"\r\n    default_nav_to_pose_bt_xml: "navigate_to_pose_w_replanning_and_recovery.xml"\r\n    plugin_lib_names:\r\n    - nav2_compute_path_to_pose_action_bt_node\r\n    - nav2_compute_path_through_poses_action_bt_node\r\n    - nav2_smooth_path_action_bt_node\r\n    - nav2_follow_path_action_bt_node\r\n    - nav2_spin_action_bt_node\r\n    - nav2_wait_action_bt_node\r\n    - nav2_assisted_teleop_action_bt_node\r\n    - nav2_back_up_action_bt_node\r\n    - nav2_drive_on_heading_bt_node\r\n    - nav2_clear_costmap_service_bt_node\r\n    - nav2_is_stuck_condition_bt_node\r\n    - nav2_goal_reached_condition_bt_node\r\n    - nav2_goal_updated_condition_bt_node\r\n    - nav2_globally_consistent_localization_condition_bt_node\r\n    - nav2_is_path_valid_condition_bt_node\r\n    - nav2_initial_pose_received_condition_bt_node\r\n    - nav2_reinitialize_global_localization_on_amcl_reset_condition_bt_node\r\n    - nav2_rate_controller_bt_node\r\n    - nav2_distance_controller_bt_node\r\n    - nav2_speed_controller_bt_node\r\n    - nav2_truncate_path_action_bt_node\r\n    - nav2_truncate_path_local_action_bt_node\r\n    - nav2_goal_updater_node_bt_node\r\n    - nav2_recovery_node_bt_node\r\n    - nav2_pipeline_sequence_bt_node\r\n    - nav2_round_robin_node_bt_node\r\n    - nav2_transform_available_condition_bt_node\r\n    - nav2_time_expired_condition_bt_node\r\n    - nav2_path_expiring_timer_condition\r\n    - nav2_distance_traveled_condition_bt_node\r\n    - nav2_single_trigger_bt_node\r\n    - nav2_is_battery_low_condition_bt_node\r\n    - nav2_navigate_through_poses_action_bt_node\r\n    - nav2_navigate_to_pose_action_bt_node\r\n    - nav2_remove_passed_goals_action_bt_node\r\n    - nav2_planner_selector_bt_node\r\n    - nav2_controller_selector_bt_node\r\n    - nav2_goal_checker_selector_bt_node\r\n    - nav2_controller_cancel_bt_node\r\n    - nav2_path_longer_on_approach_bt_node\r\n    - nav2_wait_cancel_bt_node\r\n    - nav2_spin_cancel_bt_node\r\n    - nav2_back_up_cancel_bt_node\r\n    - nav2_assisted_teleop_cancel_bt_node\r\n    - nav2_drive_on_heading_cancel_bt_node\n'})}),"\n",(0,t.jsx)(e.h2,{id:"navigation-behaviors",children:"Navigation Behaviors"}),"\n",(0,t.jsx)(e.h3,{id:"pure-navigation",children:"Pure Navigation"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Simple path following"}),"\n",(0,t.jsx)(e.li,{children:"Minimal obstacle avoidance"}),"\n",(0,t.jsx)(e.li,{children:"Good for known environments"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"navigation-with-recovery",children:"Navigation with Recovery"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Includes recovery behaviors when stuck"}),"\n",(0,t.jsx)(e.li,{children:"Handles navigation failures"}),"\n",(0,t.jsx)(e.li,{children:"More robust than pure navigation"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"navigation-with-smoothing",children:"Navigation with Smoothing"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Applies path smoothing algorithms"}),"\n",(0,t.jsx)(e.li,{children:"Creates more natural robot motion"}),"\n",(0,t.jsx)(e.li,{children:"Better for dynamic environments"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"obstacle-avoidance-systems",children:"Obstacle Avoidance Systems"}),"\n",(0,t.jsx)(e.h3,{id:"costmap-configuration",children:"Costmap Configuration"}),"\n",(0,t.jsx)(e.p,{children:"Costmaps represent the environment with obstacle information:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-yaml",children:'local_costmap:\r\n  local_costmap:\r\n    ros__parameters:\r\n      update_frequency: 5.0\r\n      publish_frequency: 2.0\r\n      global_frame: odom\r\n      robot_base_frame: base_link\r\n      use_sim_time: True\r\n      rolling_window: true\r\n      width: 3\r\n      height: 3\r\n      resolution: 0.05\r\n      robot_radius: 0.22\r\n      plugins: ["voxel_layer", "inflation_layer"]\r\n      inflation_layer:\r\n        cost_scaling_factor: 3.0\r\n        inflation_radius: 0.55\r\n      voxel_layer:\r\n        enabled: True\r\n        publish_voxel_map: True\r\n        origin_z: 0.0\r\n        z_resolution: 0.2\r\n        z_voxels: 10\r\n        max_obstacle_height: 2.0\r\n        mark_threshold: 0\r\n        observation_sources: scan\r\n        scan:\r\n          topic: /scan\r\n          max_obstacle_height: 2.0\r\n          clearing: True\r\n          marking: True\r\n          data_type: "LaserScan"\n'})}),"\n",(0,t.jsx)(e.h3,{id:"dynamic-obstacle-avoidance",children:"Dynamic Obstacle Avoidance"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import LaserScan\r\nfrom geometry_msgs.msg import Twist\r\nfrom nav_msgs.msg import Odometry\r\nimport math\r\n\r\nclass ObstacleAvoidance(Node):\r\n    def __init__(self):\r\n        super().__init__('obstacle_avoidance')\r\n\r\n        # Create subscribers\r\n        self.scan_subscription = self.create_subscription(\r\n            LaserScan,\r\n            '/scan',\r\n            self.scan_callback,\r\n            10\r\n        )\r\n\r\n        # Create publisher\r\n        self.cmd_publisher = self.create_publisher(\r\n            Twist,\r\n            '/cmd_vel',\r\n            10\r\n        )\r\n\r\n        self.safe_distance = 0.5  # meters\r\n        self.linear_speed = 0.2   # m/s\r\n        self.angular_speed = 0.5  # rad/s\r\n\r\n    def scan_callback(self, msg):\r\n        # Find minimum distance in front of robot\r\n        min_distance = min(msg.ranges)\r\n\r\n        twist = Twist()\r\n\r\n        if min_distance > self.safe_distance:\r\n            # Move forward safely\r\n            twist.linear.x = self.linear_speed\r\n            twist.angular.z = 0.0\r\n        else:\r\n            # Rotate to avoid obstacle\r\n            twist.linear.x = 0.0\r\n            twist.angular.z = self.angular_speed\r\n\r\n        self.cmd_publisher.publish(twist)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    avoidance = ObstacleAvoidance()\r\n    rclpy.spin(avoidance)\r\n    avoidance.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,t.jsx)(e.h2,{id:"agent-interaction-points-for-exercises",children:"Agent Interaction Points for Exercises"}),"\n",(0,t.jsx)(e.h3,{id:"ai-assistant-request-exercise-3-guidance",children:"AI Assistant Request: Exercise 3 Guidance"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Context"}),": Exercise 3 - Basic Navigation Setup\r\n",(0,t.jsx)(e.strong,{children:"Request"}),': "I\'m having trouble configuring Nav2 parameters for my Isaac Sim scenario. Can you help?"\r\n',(0,t.jsx)(e.strong,{children:"Expected Output"}),": Step-by-step guide for Nav2 parameter configuration"]}),"\n",(0,t.jsx)(e.h3,{id:"ai-assistant-request-exercise-4-guidance",children:"AI Assistant Request: Exercise 4 Guidance"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Context"}),": Exercise 4 - Advanced Navigation with Recovery\r\n",(0,t.jsx)(e.strong,{children:"Request"}),': "How do I implement custom recovery behaviors for my navigation system?"\r\n',(0,t.jsx)(e.strong,{children:"Expected Output"}),": Guide for implementing custom recovery behaviors"]}),"\n",(0,t.jsx)(e.h2,{id:"exercise-3-basic-navigation-setup",children:"Exercise 3: Basic Navigation Setup"}),"\n",(0,t.jsx)(e.h3,{id:"objective",children:"Objective"}),"\n",(0,t.jsx)(e.p,{children:"Configure Nav2 with Isaac Sim and execute basic navigation commands."}),"\n",(0,t.jsx)(e.h3,{id:"steps",children:"Steps"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Launch Isaac Sim with a navigation scenario"}),"\n",(0,t.jsx)(e.li,{children:"Configure Nav2 parameters for the simulation"}),"\n",(0,t.jsx)(e.li,{children:"Send navigation goals to the robot"}),"\n",(0,t.jsx)(e.li,{children:"Monitor navigation performance"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"expected-outcome",children:"Expected Outcome"}),"\n",(0,t.jsx)(e.p,{children:"Robot successfully navigates to specified goals while avoiding obstacles."}),"\n",(0,t.jsx)(e.h2,{id:"exercise-4-advanced-navigation-with-recovery",children:"Exercise 4: Advanced Navigation with Recovery"}),"\n",(0,t.jsx)(e.h3,{id:"objective-1",children:"Objective"}),"\n",(0,t.jsx)(e.p,{children:"Implement navigation with recovery behaviors for robust operation."}),"\n",(0,t.jsx)(e.h3,{id:"steps-1",children:"Steps"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Configure recovery behaviors in Nav2"}),"\n",(0,t.jsx)(e.li,{children:"Create scenarios that trigger recovery behaviors"}),"\n",(0,t.jsx)(e.li,{children:"Test navigation in challenging environments"}),"\n",(0,t.jsx)(e.li,{children:"Evaluate recovery effectiveness"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"expected-outcome-1",children:"Expected Outcome"}),"\n",(0,t.jsx)(e.p,{children:"Robot handles navigation failures and recovers successfully."}),"\n",(0,t.jsx)(e.h2,{id:"performance-evaluation",children:"Performance Evaluation"}),"\n",(0,t.jsx)(e.h3,{id:"metrics-for-navigation-performance",children:"Metrics for Navigation Performance"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Success Rate"}),": Percentage of successful navigation attempts"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Time to Goal"}),": Time taken to reach the goal"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Path Efficiency"}),": Actual path length vs optimal path"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Safety"}),": Number of collisions or near-misses"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Smoothness"}),": Robot motion quality"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"evaluation-tools",children:"Evaluation Tools"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom nav_msgs.msg import Path\r\nfrom geometry_msgs.msg import PoseStamped\r\nimport math\r\n\r\nclass NavigationEvaluator(Node):\r\n    def __init__(self):\r\n        super().__init__('navigation_evaluator')\r\n\r\n        self.start_position = None\r\n        self.goal_position = None\r\n        self.path_length = 0.0\r\n        self.has_started = False\r\n\r\n    def calculate_path_efficiency(self, optimal_distance):\r\n        if self.path_length > 0 and optimal_distance > 0:\r\n            efficiency = optimal_distance / self.path_length\r\n            return efficiency\r\n        return 0.0\r\n\r\n    def calculate_path_length(self, path):\r\n        length = 0.0\r\n        for i in range(len(path.poses) - 1):\r\n            p1 = path.poses[i].pose.position\r\n            p2 = path.poses[i+1].pose.position\r\n            segment_length = math.sqrt(\r\n                (p2.x - p1.x)**2 + (p2.y - p1.y)**2\r\n            )\r\n            length += segment_length\r\n        return length\n"})}),"\n",(0,t.jsx)(e.h2,{id:"assessment-questions",children:"Assessment Questions"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"What are the main components of the Nav2 navigation stack?"}),"\n",(0,t.jsx)(e.li,{children:"How does the global planner differ from the local planner?"}),"\n",(0,t.jsx)(e.li,{children:"What are recovery behaviors and why are they important?"}),"\n",(0,t.jsx)(e.li,{children:"How do costmaps help with obstacle avoidance in navigation?"}),"\n",(0,t.jsx)(e.li,{children:"What metrics would you use to evaluate navigation performance?"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(e.p,{children:"This lesson covered the integration of Nav2 with NVIDIA Isaac for robot navigation. You learned about the Nav2 architecture, path planning algorithms, navigation behaviors, and obstacle avoidance systems. The exercises provided hands-on experience with configuring and evaluating navigation systems in simulation."}),"\n",(0,t.jsx)(e.h2,{id:"agent-interaction-points-for-review",children:"Agent Interaction Points for Review"}),"\n",(0,t.jsx)(e.h3,{id:"ai-assistant-request-lesson-review",children:"AI Assistant Request: Lesson Review"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Context"}),": Review of Lesson 2 content\r\n",(0,t.jsx)(e.strong,{children:"Request"}),': "Summarize the key navigation concepts from Lesson 2 and suggest best practices"\r\n',(0,t.jsx)(e.strong,{children:"Expected Output"}),": Concise summary of navigation concepts and recommended best practices"]}),"\n",(0,t.jsx)(e.h3,{id:"ai-assistant-request-troubleshooting-summary",children:"AI Assistant Request: Troubleshooting Summary"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Context"}),": Common issues in Lesson 2\r\n",(0,t.jsx)(e.strong,{children:"Request"}),': "What are the most common navigation issues students face in Lesson 2 and how to solve them?"\r\n',(0,t.jsx)(e.strong,{children:"Expected Output"}),": Compilation of common navigation issues and their solutions"]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}}}]);